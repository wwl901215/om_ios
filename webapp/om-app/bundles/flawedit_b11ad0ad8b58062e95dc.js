webpackJsonp([10],{0:function(e,t,a){e.exports=a(1374)},1374:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function l(i,n){try{var o=t[i](n),d=o.value}catch(e){return void a(e)}return o.done?void e(d):Promise.resolve(d).then(function(e){l("next",e)},function(e){l("throw",e)})}return l("next")})}}function c(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],l=atob(t[1]),i=l.length,n=new Uint8Array(i);i--;)n[i]=l.charCodeAt(i);return new Blob([n],{type:a})}function s(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,l=a>9?a:"0"+a,i=e.getDay()+1,n=i>9?i:"0"+i;return""+t+l+n+"/"+e.getTime()+"/"}var u=a(331),f=l(u),m=a(25),p=l(m),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}();a(1375),a(136);var _=a(2),x=l(_),v=a(5),w=l(v);a(15);var y=a(9),b=l(y),S=a(1382),E=l(S),k=a(1367),N=l(k),I=a(1385),B=l(I),C=a(24),V=(a(178),a(1387)),L=(l(V),a(1391)),T=l(L),D=a(1356),U=l(D),O=a(1396),F=l(O),P=a(157),z=function(){var e=r(regeneratorRuntime.mark(function e(t,a){var l,i,n,o,d,r,u,f,m,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,l=[],i=[],n=!0,o=!1,d=void 0,e.prev=6,r=a[Symbol.iterator]();!(n=(u=r.next()).done);n=!0)f=u.value,f.upload?(m=s()+f.fileName,i.push(m),p=azblob.BlockBlobURL.fromContainerURL(t,m),l.push(azblob.uploadBrowserDataToBlockBlob(azblob.Aborter.none,c(f.fileUrl),p))):i.push(f.fileUrl);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),o=!0,d=e.t0;case 14:e.prev=14,e.prev=15,!n&&r.return&&r.return();case 17:if(e.prev=17,!o){e.next=20;break}throw d;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,Promise.all(l);case 24:return e.abrupt("return",i);case 27:e.prev=27,e.t1=e.catch(0),console.log(e.t1.body.message);case 30:case"end":return e.stop()}},e,void 0,[[0,27],[6,10,14,22],[15,,17,21]])}));return function(t,a){return e.apply(this,arguments)}}(),R=["手工创建","任务","工单"],A=["","新建","分配中","审批中","处理中","已关闭"],j=function(e){function t(e){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getTodoList=function(){(0,C.api)("s-solaromds/app/op/fault/info/"+a.state.faultId,"GET").then(function(e){if(e){if(!e)return;var t=[];e.imageUrlList&&e.imageUrlList.length>0&&e.imageUrlList.map(function(e,a){t.push({showUrl:"https://solarasset.blob.core.chinacloudapi.cn/omtest1/"+e,fileUrl:e,upload:!1})});var l=a.state,i=l.powerStationId,n=l.faultName,o=l.areaId,d=l.categoryId,r=l.deviceId,c=l.type,s=l.faultLevel,u=l.wrongCode,f=l.expectedTime,m=l.describe,p=l.findTime,g=l.faultReason,h=l.loseEnergy,_=l.createUserId,x=l.imageList,v=l.faultLevelName,w=l.areaIdName,y=l.createUserIdName,b=l.powerStationName,S=l.categoryIdName,E=l.deviceIdName,k=l.faultCode,N=l.assetCode,I=l.processState,B={powerStationId:i||e.stationId||"",faultName:n||e.faultName||"",areaId:o||e.areaId||"",categoryId:d||e.categoryId||"",deviceId:r||e.deviceId||"",type:c||e.faultSource,faultLevel:""!=s&&void 0!=s&&null!=s?s:e.faultLevel,wrongCode:u||e.wrongCode||"",expectedTime:f||e.expectedTime||"",describe:m||e.describe||"",findTime:p||e.createTime||"",faultReason:g||e.faultReason||"",loseEnergy:h||e.loseEnergy||"",createUserId:_||e.createUserId||"",imageList:"[]"!=x&&void 0!=x&&null!=x?x:JSON.stringify(t),faultLevelName:v||e.faultLevelValue||"",areaIdName:w||e.areaName||"",createUserIdName:y||e.createBy||"",powerStationName:b||e.stationName||"",categoryIdName:S||e.categoryName||"",deviceIdName:E||e.deviceName||"",faultCode:k||e.faultCode||"",assetCode:N||e.assetCode||"",processState:I||e.processState||""};a._sState(B)}})},a.device="device",a.category="category",a.levels="levels",a.state={powerStationId:a._gQS("siteId","powerStationId")||"",faultName:a._gQS("faultName"),areaId:a._gQS("areaId"),categoryId:a._gQS("categoryId"),deviceId:a._gQS("deviceId"),type:0,faultLevel:a._gQS("faultLevel"),wrongCode:a._gQS("wrongCode"),expectedTime:a._gQS("expectedTime"),describe:a._gQS("describe"),faultReason:a._gQS("faultReason"),loseEnergy:a._gQS("loseEnergy"),createUserId:a._gQS("createUserId"),faultLevelName:a._gQS("faultLevelName"),categoryIdName:a._gQS("categoryIdName"),deviceIdName:a._gQS("deviceIdName"),areaIdName:a._gQS("areaIdName"),createUserIdName:a._gQS("createUserIdName"),powerStationName:a._gQS("powerStationName"),showPreView:!1,imageList:a._gQS("imageList")||"[]",preViewIndex:0,containerURL:"",ssvTitle:"",ssvData:null,ssvShow:!1,faultId:a._gQS("faultId"),showPhoto:!1,changeContent:!0},console.log("========= constructor"),a}return d(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;(0,C.api)("s-solaromds/app/common/sas",{},"POST",!1).then(function(t){var a=new azblob.ContainerURL("https://solarasset.blob.core.chinacloudapi.cn/omtest1/?"+t,azblob.StorageURL.newPipeline(new azblob.AnonymousCredential));e.setState({containerURL:a})}).catch(function(e){console.log(e)}),this.getTodoList()}},{key:"_showTopView",value:function(e){console.log("_showTopView");var t=window.parent.document.body;e?t.style.backgroundColor="rgba(0, 0, 0, 0.4)":t.style.backgroundColor="rgba(0,0,0,0.5)",P.StatusBar.backgroundColorByHexString("#000"),P.StatusBar.styleDefault()}},{key:"_hideTopView",value:function(e){console.log("_hideTopView");var t=window.parent.document.body;t.style.backgroundColor="#FFFFFF",P.StatusBar.backgroundColorByHexString("#000"),P.StatusBar.styleDefault()}},{key:"_datePicker",value:function(e){e?this._showTopView(!0):this._hideTopView(!0)}},{key:"handlePreview",value:function(e){console.log(e),this.setState({showPreView:!0,preViewIndex:e})}},{key:"handleClosePreview",value:function(){this.setState({showPreView:!1})}},{key:"takePhotos",value:function(e){console.log("info",e);var t=[].concat(i(JSON.parse(this.state.imageList)));t.push(e),this._sState({imageList:JSON.stringify(t)})}},{key:"handleDeletPhoto",value:function(e){console.log(e);var t=[].concat(i(JSON.parse(this.state.imageList)));t.splice(e,1),this._sState({imageList:JSON.stringify(t)})}},{key:"_ssvCancel",value:function(){this.setState({ssvTitle:"",ssvData:null,ssvShow:!1}),this._hideTopView()}},{key:"_ssvSure",value:function(e){if(!e||!e.type)return this.setState({ssvTitle:"",ssvData:null,ssvShow:!1}),void this._hideTopView();switch(e.type){case this.category:this._sState({categoryId:e.id,categoryIdName:e.name});break;case this.device:this._sState({deviceId:e.id,deviceIdName:e.name});break;case this.levels:this._sState({faultLevel:e.id,faultLevelName:e.name})}this.setState({ssvTitle:"",ssvData:null,ssvShow:!1}),this._hideTopView()}},{key:"_changeData",value:function(e,t,a,l){return e.map(function(i,n){e[n].name=e[n][t],e[n].id=e[n][a],e[n].type=l}),e}},{key:"_getCategoryIdData",value:function(){var e=this,t=this.state,a=t.powerStationId,l=t.areaId,i={powerStationId:a,areaId:l};return i.powerStationId?void(0,C.api)("s-solaromds/app/op/fault/categoryList",i,"POST").then(function(t){console.log("categoryList:{categoryId,categoryName}"),console.log(t),e.setState({ssvTitle:"设备类型",ssvData:e._changeData(t,"categoryName","categoryId",e.category),ssvShow:!0}),e._showTopView()}):void p.default.show("请先选择电站",2)}},{key:"_getDeviceIdData",value:function(){var e=this,t=this.state,a=t.powerStationId,l=t.areaId,i={stationId:a,areaId:l,name:"",categoryId:this.state.categoryId||""};return i.stationId?void(0,C.api)("s-solaromds/app/common/devices",i,"POST").then(function(t){console.log(t),e.setState({ssvTitle:"设备名称",ssvData:e._changeData(t,"deviceName","deviceId",e.device),ssvShow:!0}),e._showTopView()}):void p.default.show("请先选择电站",2)}},{key:"_getLevelsData",value:function(){var e=this;(0,C.api)("s-solaromds/app/op/fault/levels",{},"GEt").then(function(t){console.log(t),e.setState({ssvTitle:"缺陷等级",ssvData:e._changeData(t,"levelName","levelId",e.levels),ssvShow:!0}),e._showTopView()})}},{key:"_gQS",value:function(e,t){if(e&&t)return(0,C.getQueryString)(e)||localStorage.getItem(t)||"";if(e){if((0,C.getQueryString)(e)&&localStorage.setItem("flaw_edit_"+e,(0,C.getQueryString)(e)),"imageList"==e){var a=this;return P.sharedDataApi.getShellPersistentData("flaw_edit_imageList").then(function(e){a.setState({imageList:e}),F.default.imageList=e}).catch(function(e){console.log("sss 获取图片失败")}),F.default.imageList}return(0,C.getQueryString)(e)||localStorage.getItem("flaw_edit_"+e)||""}return""}},{key:"_sState",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=0;a<t.length;a++){var l=t[a],i=e[l];"imageList"==l?(F.default.imageList=String(i),P.sharedDataApi.saveShellPersistentData("flaw_edit_imageList",String(i)).then(function(){console.log("_sState 储存图片成功")}).catch(function(e){console.error(e)})):localStorage.setItem("flaw_edit_"+l,String(i))}this.setState(g({},e))}},{key:"_clearAll",value:function(){for(var e=this.state,t=Object.keys(e),a=0;a<t.length;a++)try{localStorage.removeItem("flaw_edit_"+t[a]),F.default.imageList="",P.sharedDataApi.removeShellPersistentData("flaw_edit_imageList").then(function(){console.log("成功清理图片")}).catch(function(){console.log("清理图片失败")})}catch(e){console.log(e)}}},{key:"submit",value:function(){for(var e=this,t=this.state,a=t.faultName,l=t.areaId,i=t.categoryId,n=t.deviceId,o=t.type,d=t.faultLevel,r=t.wrongCode,c=t.expectedTime,s=t.describe,u=t.faultReason,f=t.loseEnergy,m=t.createUserId,g=t.containerURL,h=t.imageList,_=t.faultCode,x=t.faultId,v=t.powerStationId,w={powerStationId:v,faultName:a,areaId:l,categoryId:i,deviceId:n,type:o,faultLevel:d,wrongCode:r,expectedTime:c,describe:s,findTime:(0,C.fmtDate)(new Date),faultReason:u,loseEnergy:f,createUserId:m,imageList:h,faultCode:_,faultId:x},y={powerStationId:w.powerStationId,faultName:w.faultName,categoryId:w.categoryId,deviceId:w.deviceId,type:w.type,faultLevel:w.faultLevel,expectedTime:w.expectedTime,describe:w.describe,imageList:w.imageList,findTime:w.findTime,createUserId:w.createUserId,faultCode:w.faultCode,faultId:w.faultId},b=Object.keys(y),S=0;S<b.length;S++)if(""===y[b[S]]||null===y[b[S]]||void 0===y[b[S]])return void p.default.show("有必填选项未填写，请补充完整"+b[S],2);return"[]"==h?void p.default.show("请上传图片",2):JSON.parse(h).length>4?void p.default.show("最多上传四张图片",2):(w.expectedTime=c+" 00:00:00",p.default.loading("正在上传图片",1e3,null),void z(g,JSON.parse(h)).then(function(t){p.default.hide(),w.imageUrls=t,w.expectedTime&&(w.expectedTime=w.expectedTime.split("/").join("-")),w.findTime&&(w.findTime=w.findTime.split("/").join("-")),delete w.imageList,(0,C.api)("s-solaromds/app/op/fault/submission",w,"POST").then(function(t){p.default.success("编辑成功",1),e._clearAll(),localStorage.setItem("powerStationId",w.powerStationId),localStorage.setItem("refresh_flawinfo","true"),parent.location.hash="#/flawinfo?faultId="+w.faultId},function(e){p.default.fail("编辑失败",1)})}).catch(function(e){p.default.hide()}))}},{key:"_powerStationId",value:function(){localStorage.setItem("link","deviceList"),goto("deviceList?link=flawedit")}},{key:"_faultName",value:function(e){console.log(e),this._sState({faultName:e})}},{key:"_areaId",value:function(){goto("location?link=flawedit")}},{key:"_categoryId",value:function(){this._getCategoryIdData()}},{key:"_deviceId",value:function(){this._getDeviceIdData()}},{key:"_faultLevel",value:function(){this._getLevelsData()}},{key:"_wrongCode",value:function(e){this._sState({wrongCode:e})}},{key:"_describe",value:function(e){this._sState({describe:e})}},{key:"_faultReason",value:function(e){this._sState({faultReason:e})}},{key:"_loseEnergy",value:function(e){this._sState({loseEnergy:e})}},{key:"_createUserId",value:function(e){goto("flawusers?link=flawedit&userId="+this.state.createUserId)}},{key:"_renderImgs",value:function(){return x.default.createElement("div",null,x.default.createElement("img",{className:B.default.img}),x.default.createElement("img",null))}},{key:"showPhotoSelectView",value:function(e){P.Keyboard.hide(),console.log("Keyboard.hide"),this.setState({changeContent:!0}),this.setState({showPhoto:e})}},{key:"render",value:function(){var e=this,t=this.state,l=t.faultName,i=t.categoryId,n=t.deviceId,o=t.faultLevel,d=t.wrongCode,r=t.expectedTime,c=t.describe,s=t.faultReason,u=t.loseEnergy,m=t.faultLevelName,p=t.categoryIdName,g=t.deviceIdName,h=t.preViewIndex,_=t.showPreView,v=t.imageList,w=t.ssvTitle,y=t.ssvData,S=t.ssvShow,k=t.faultCode,I=t.assetCode,V=t.type,L=t.processState,D=t.powerStationId,O=t.powerStationName,F=t.areaId,z=t.areaIdName,j=t.createUserId,Q=t.createUserIdName,H=t.faultId,K=t.showPhoto,q=t.changeContent,J={height:"50px",marginLeft:"16px",paddingRight:"16px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:"solid 1px #D7DBE0"},M={color:"#101015",fontSize:"14px",lineHeight:"50px",textAlign:"center"},G={fontSize:"14px",color:"#A4A5B3",display:"flex",flexDirection:"row",alignItems:"center"},Y={fontSize:"14px",color:"#494952",display:"flex",flexDirection:"row",alignItems:"center"},X={width:"12px",height:"12px",marginLeft:"4px"};return x.default.createElement("div",{className:B.default.container},x.default.createElement(b.default,{title:"编辑缺陷",goBack:function(){parent.location.hash="#/flawinfo?faultId="+H}}),x.default.createElement("div",{style:{height:"1px",width:"100%",background:"rgba(215,219,224,0.4)",marginTop:"64px"}}),x.default.createElement("div",{onScroll:function(){console.log("onScroll"),e.setState({changeContent:!0})},id:"content",style:{overflow:"auto",height:q?"100%":"76%",paddingBottom:"112px"}},x.default.createElement("div",{className:B.default.content},x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView,onClick:function(){return e._powerStationId()}},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"电站 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:D?B.default.rightSelected:B.default.right},x.default.createElement("span",{className:B.default.selectSpan},D?O:"请选择")," ",x.default.createElement("img",{className:B.default.rightImg,src:a(1397)})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"缺陷编码 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:k?B.default.rightSelected:B.default.right},x.default.createElement("input",{value:k,readOnly:!0,style:{color:"#A4A5B3",textOverflow:"ellipsis"},className:B.default.input,autoFocus:!1})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"缺陷名称 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:l?B.default.rightSelected:B.default.right},x.default.createElement("input",{value:l,placeholder:"请输入",className:B.default.input,onChange:function(t){return e._faultName(t.target.value)},autoFocus:!1})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView,onClick:function(){return e._areaId()}},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"位置")),x.default.createElement("div",{className:F?B.default.rightSelected:B.default.right},x.default.createElement("span",{className:B.default.selectSpan},F?z:"请选择")," ",x.default.createElement("img",{className:B.default.rightImg,src:a(1397)})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"资产编码 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:I?B.default.rightSelected:B.default.right},x.default.createElement("input",{value:I,readOnly:!0,style:{color:"#A4A5B3",textOverflow:"ellipsis"},className:B.default.input,autoFocus:!1})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView,onClick:function(){return e._categoryId()}},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"设备类型 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:i?B.default.rightSelected:B.default.right},x.default.createElement("span",{className:B.default.selectSpan},i?p:"请选择")," ",x.default.createElement("img",{className:B.default.rightImg,src:a(1397)})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{style:{marginLeft:"0px",paddingLeft:"16px"},className:B.default.childView,onClick:function(){return e._deviceId()}},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"设备名称 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:n?B.default.rightSelected:B.default.right},x.default.createElement("span",null,n?g:"请选择")," ",x.default.createElement("img",{className:B.default.rightImg,src:a(1397)}))))),x.default.createElement("div",{className:B.default.content},x.default.createElement("div",{style:{height:"1px",width:"100vw",backgroundColor:"rgba(215,219,224,0.4)"}}),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"缺陷来源 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:B.default.right},x.default.createElement("input",{value:R[V||0],readOnly:!0,style:{color:"#A4A5B3",textOverflow:"ellipsis"},className:B.default.input,autoFocus:!1})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView,onClick:function(){return e._faultLevel()}},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"缺陷等级 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:o?B.default.rightSelected:B.default.right},x.default.createElement("span",{className:B.default.selectSpan},o?m:"请选择")," ",x.default.createElement("img",{className:B.default.rightImg,src:a(1397)})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"故障代码")),x.default.createElement("div",{className:d?B.default.rightSelected:B.default.right},x.default.createElement("input",{value:d,placeholder:"请输入",className:B.default.input,onChange:function(t){return e._wrongCode(t.target.value)},autoFocus:!1})))),x.default.createElement(f.default,{mode:"date",title:"期望完成日期",extra:"请选择",onVisibleChange:function(t){e._datePicker(t)},onChange:function(t){return e._sState({expectedTime:(0,C.fmtDate)(t,"yyyy-MM-dd")})}},x.default.createElement("div",{className:B.default.childBody,style:{backgroundColor:"#FFFFFF"}},x.default.createElement("div",{style:J},x.default.createElement("div",{style:M},x.default.createElement("span",null,"期望完成日期 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{style:r?Y:G},x.default.createElement("span",null,r?r:"请选择")," ",x.default.createElement("img",{style:X,src:a(1397)}))))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childViewBig},x.default.createElement("div",{className:B.default.leftBig},x.default.createElement("span",null,"故障描述 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:c?B.default.rightSelectedBig:B.default.rightBig},x.default.createElement(N.default,{value:c,placeholder:"请输入",inputClassName:B.default.inputBig,onChange:function(t){return e._describe(t.target.value)},autoFocus:!1,maxLength:100})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childViewBig,style:{marginLeft:"-20px",height:"auto",paddingBottom:"6px"}},x.default.createElement("div",{className:B.default.leftBig,style:{marginLeft:"40px",marginBottom:"-15px"}},x.default.createElement("span",null,"照片 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement(T.default,{show:function(t){return e.showPhotoSelectView(t)},style:{paddingInlineStart:"40px"},imageList:JSON.parse(v),takePhotos:function(t){return e.takePhotos(t)},handleDelet:function(t){return e.handleDeletPhoto(t)},handlePreview:function(t){return e.handlePreview(t)}}))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{style:{marginLeft:"0px",paddingLeft:"16px"},className:B.default.childViewBig},x.default.createElement("div",{className:B.default.leftBig},x.default.createElement("span",null,"原因分析")),x.default.createElement("div",{className:s?B.default.rightSelectedBig:B.default.rightBig},x.default.createElement(N.default,{value:s,placeholder:"请输入",inputClassName:B.default.inputBig,onChange:function(t){return e._faultReason(t.target.value)},autoFocus:!1,maxLength:100}))))),x.default.createElement("div",{className:B.default.content},x.default.createElement("div",{style:{height:"1px",width:"100vw",backgroundColor:"rgba(215,219,224,0.4)"}}),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"状态 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:B.default.right},x.default.createElement("input",{value:A[L||0],readOnly:!0,style:{color:"#A4A5B3",textOverflow:"ellipsis"},className:B.default.input,autoFocus:!1})))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{className:B.default.childView},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"损失电量")),x.default.createElement("div",{className:u?B.default.rightSelected:B.default.right},x.default.createElement("input",{onBlur:function(){e.setState({changeContent:!0})},onFocus:function(t){document.getElementById("content").scrollTo(0,1e4),!P.device.isAndroid&&e.setState({changeContent:!1})},type:"number",value:u,placeholder:"请输入",className:B.default.input,onChange:function(t){return e._loseEnergy(t.target.value)},autoFocus:!1}),x.default.createElement("div",{style:{lineHeight:"50px",marginLeft:"5px",color:"#292830"}},x.default.createElement("span",null,"kWh"))))),x.default.createElement("div",{className:B.default.childBody},x.default.createElement("div",{style:{marginLeft:"0px",paddingLeft:"16px"},className:B.default.childView,onClick:function(){return e._createUserId()}},x.default.createElement("div",{className:B.default.left},x.default.createElement("span",null,"创建人 ",x.default.createElement("span",{style:{color:"#F23349"}},"*"))),x.default.createElement("div",{className:j?B.default.rightSelected:B.default.right},x.default.createElement("span",null,j?Q:"请选择")," ",x.default.createElement("img",{className:B.default.rightImg,src:a(1397)})))))),x.default.createElement("div",{className:B.default.submitDiv,style:{display:K?"none":"inline-block"}},x.default.createElement("button",{onClick:function(){return e.submit()}},"提交")),S?x.default.createElement(E.default,{title:w,onCancel:function(){return e._ssvCancel()},onSure:function(t){return e._ssvSure(t)},data:y}):null,_&&x.default.createElement(U.default,{imageList:JSON.parse(v),activeIndex:h,close:function(){e.handleClosePreview()}}))}}]),t}(_.Component);w.default.render(x.default.createElement(j,null),document.getElementById("container"))},1375:function(e,t,a){"use strict";a(1376)},1376:function(e,t,a){"use strict";a(1377),a(1380)},1377:function(e,t,a){"use strict";a(137),a(1378)},1378:function(e,t,a){var l=a(1379);"string"==typeof l&&(l=[[e.id,l,""]]);a(13)(l,{});l.locals&&(e.exports=l.locals)},1379:function(e,t,a){t=e.exports=a(12)(),t.push([e.id,'.am-picker-col{display:block;position:relative;height:238px;overflow:hidden;width:100%}.am-picker-col-content{position:absolute;left:0;top:0;width:100%;z-index:1;padding:102px 0}.am-picker-col-item{-ms-touch-action:manipulation;touch-action:manipulation;text-align:center;font-size:16px;height:34px;line-height:34px;color:#000;white-space:nowrap;text-overflow:ellipsis}.am-picker-col-item-selected{font-size:17px}.am-picker-col-mask{top:0;height:100%;margin:0 auto;background-image:linear-gradient(180deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6)),linear-gradient(0deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6));background-position:top,bottom;background-size:100% 102px;background-repeat:no-repeat}.am-picker-col-indicator,.am-picker-col-mask{position:absolute;left:0;width:100%;z-index:3}.am-picker-col-indicator{box-sizing:border-box;height:34px;top:102px;border-top:1px solid #ddd;border-bottom:1px solid #ddd}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx){html:not([data-scale]) .am-picker-col-indicator{border-top:none}html:not([data-scale]) .am-picker-col-indicator:before{content:"";position:absolute;background-color:#ddd;display:block;z-index:1;top:0;right:auto;bottom:auto;left:0;width:100%;height:1px;transform-origin:50% 50%;transform:scaleY(.5)}}@media (-webkit-min-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:3),(min-resolution:2dppx) and (min-resolution:3dppx){html:not([data-scale]) .am-picker-col-indicator:before{transform:scaleY(.33)}}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx){html:not([data-scale]) .am-picker-col-indicator{border-bottom:none}html:not([data-scale]) .am-picker-col-indicator:after{content:"";position:absolute;background-color:#ddd;display:block;z-index:1;top:auto;right:auto;bottom:0;left:0;width:100%;height:1px;transform-origin:50% 100%;transform:scaleY(.5)}}@media (-webkit-min-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:3),(min-resolution:2dppx) and (min-resolution:3dppx){html:not([data-scale]) .am-picker-col-indicator:after{transform:scaleY(.33)}}.am-picker{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.am-picker-item{-ms-flex:1;flex:1;text-align:center}',""])},1380:function(e,t,a){var l=a(1381);"string"==typeof l&&(l=[[e.id,l,""]]);a(13)(l,{});l.locals&&(e.exports=l.locals)},1381:function(e,t,a){t=e.exports=a(12)(),t.push([e.id,'.am-picker-popup{left:0;bottom:0;position:fixed;width:100%;background-color:#fff;padding-bottom:env(safe-area-inset-bottom)}.am-picker-popup-wrap{overflow:auto;-webkit-overflow-scrolling:touch;outline:0}.am-picker-popup-mask,.am-picker-popup-wrap{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;transform:translateZ(1px)}.am-picker-popup-mask{background-color:rgba(0,0,0,.4);height:100%}.am-picker-popup-mask-hidden{display:none}.am-picker-popup-header{background-image:linear-gradient(180deg,#e7e7e7,#e7e7e7,transparent,transparent);background-position:bottom;background-size:100% 1px;background-repeat:no-repeat;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;border-bottom:1px solid #ddd}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx){html:not([data-scale]) .am-picker-popup-header{border-bottom:none}html:not([data-scale]) .am-picker-popup-header:after{content:"";position:absolute;background-color:#ddd;display:block;z-index:1;top:auto;right:auto;bottom:0;left:0;width:100%;height:1px;transform-origin:50% 100%;transform:scaleY(.5)}}@media (-webkit-min-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:3),(min-resolution:2dppx) and (min-resolution:3dppx){html:not([data-scale]) .am-picker-popup-header:after{transform:scaleY(.33)}}.am-picker-popup-header .am-picker-popup-header-right{text-align:right}.am-picker-popup-item{color:#108ee9;font-size:17px;padding:9px 15px;height:42px;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.am-picker-popup-item-active{background-color:#ddd}.am-picker-popup-title{-ms-flex:1;flex:1;text-align:center;color:#000}.am-picker-popup .am-picker-popup-close{display:none}.am-picker-col{-ms-flex:1;flex:1}',""])},1382:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(2),c=l(r),s=a(1383),u=l(s),f=function(e){function t(e){i(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selectedData:a.props.data&&a.props.data[0],index:0},a}return o(t,e),d(t,[{key:"_renderItem",value:function(e,t){var a=this;return c.default.createElement("div",{key:t,className:u.default.bodyItem,style:t===this.state.index?{color:"#0084FF"}:null,onClick:function(){return a.setState({selectedData:e,index:t})}},c.default.createElement("span",null,e.name))}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,l=t.onSure,i=t.onCancel,n=t.title,o=this.state.selectedData;return a?c.default.createElement("div",{className:u.default.container},c.default.createElement("div",{className:u.default.content},c.default.createElement("div",{className:u.default.headDiv},c.default.createElement("span",{onClick:function(){i&&i()}},"取消"),c.default.createElement("span",{style:{color:"#292830",fontSize:"14px",fontWeight:"400"}},n||""),c.default.createElement("span",{onClick:function(){l&&l(o)}},"确定")),c.default.createElement("div",{style:{backgroundColor:"#EFF0F3",height:"1px"}}),c.default.createElement("div",{className:u.default.bodyDiv},a.map(function(t,a){return e._renderItem(t,a)})))):null}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){}
},{key:"componentWillUnmount",value:function(){}}]),t}(r.Component);t.default=f},1383:function(e,t,a){var l=a(1384);"string"==typeof l&&(l=[[e.id,l,""]]);a(13)(l,{});l.locals&&(e.exports=l.locals)},1384:function(e,t,a){t=e.exports=a(12)(),t.push([e.id,"._-components-SelectSingleView-_index_container_3xABU{width:100vw;height:100vh;background:rgba(0,0,0,.5);position:fixed;left:0;top:0;z-index:200}._-components-SelectSingleView-_index_content_2mGCg{width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed;left:0;bottom:0;background-color:#fff}._-components-SelectSingleView-_index_headDiv_X39O2{height:45px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;line-height:45px;font-size:15px;margin:auto 16px;color:#0084ff;font-weight:500}._-components-SelectSingleView-_index_bodyDiv_FoVUS{display:-ms-flexbox;display:flex;max-height:30vh;min-height:20vh;overflow:auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}._-components-SelectSingleView-_index_bodyItem_2JiC7{-ms-flex-negative:0;flex-shrink:0;width:100vw;height:44px;line-height:44px;color:#000;font-size:16px;text-align:center}",""]),t.locals={container:"_-components-SelectSingleView-_index_container_3xABU",content:"_-components-SelectSingleView-_index_content_2mGCg",headDiv:"_-components-SelectSingleView-_index_headDiv_X39O2",bodyDiv:"_-components-SelectSingleView-_index_bodyDiv_FoVUS",bodyItem:"_-components-SelectSingleView-_index_bodyItem_2JiC7"}},1385:function(e,t,a){var l=a(1386);"string"==typeof l&&(l=[[e.id,l,""]]);a(13)(l,{});l.locals&&(e.exports=l.locals)},1386:function(e,t,a){t=e.exports=a(12)(),t.push([e.id,".flawedit-_index_container_2hKUq{width:100%;margin:0;height:100%;background:#fafbfd;position:relative;overflow:hidden}.flawedit-_index_container_2hKUq input{-webkit-user-select:auto!important;-moz-user-select:auto!important;-ms-user-select:auto!important;user-select:auto!important;width:60vw}.flawedit-_index_container_2hKUq input::-webkit-input-placeholder{vertical-align:center;height:30px;line-height:30px}.flawedit-_index_container_2hKUq input::-moz-placeholder{vertical-align:center;height:30px;line-height:30px}.flawedit-_index_container_2hKUq input::-ms-input-placeholder{vertical-align:center;height:30px;line-height:30px}.flawedit-_index_container_2hKUq textarea::-webkit-input-placeholder{vertical-align:center}.flawedit-_index_container_2hKUq textarea::-moz-placeholder{vertical-align:center}.flawedit-_index_container_2hKUq textarea::-ms-input-placeholder{vertical-align:center}.flawedit-_index_container_2hKUq input::-webkit-input-placeholder{color:#a4a5b3}.flawedit-_index_container_2hKUq input::-moz-placeholder{color:#a4a5b3}.flawedit-_index_container_2hKUq input::-ms-input-placeholder{color:#a4a5b3}.flawedit-_index_container_2hKUq textarea::-webkit-input-placeholder{color:#a4a5b3}.flawedit-_index_container_2hKUq textarea::-moz-placeholder{color:#a4a5b3}.flawedit-_index_container_2hKUq textarea::-ms-input-placeholder{color:#a4a5b3}.flawedit-_index_content_3_wgb{position:relative;margin-bottom:10px}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe{background-color:#fff}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe .flawedit-_index_childView_2T7R_{height:50px;margin-left:16px;padding-right:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid rgba(215,219,224,.4)}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe .flawedit-_index_childView_2T7R_ .flawedit-_index_left_1UAH4{color:#101015;font-size:14px;line-height:50px;text-align:center}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe .flawedit-_index_childView_2T7R_ .flawedit-_index_right_2tUMG{font-size:14px;color:#a4a5b3;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe .flawedit-_index_childView_2T7R_ .flawedit-_index_rightSelected_1nlMZ{font-size:14px;color:#494952;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;text-align:right;overflow:hidden}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe .flawedit-_index_childView_2T7R_ .flawedit-_index_rightSelected_1nlMZ span{width:60vw}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe .flawedit-_index_childView_2T7R_ .flawedit-_index_rightImg_3dhsx{width:12px;height:12px;margin-left:4px}.flawedit-_index_content_3_wgb .flawedit-_index_childBody_3aBHe .flawedit-_index_childView_2T7R_ .flawedit-_index_input_2CgUE{text-align:right;vertical-align:center;height:30px;line-height:30px}.flawedit-_index_childViewBig_dV5SR{background-color:#fff;height:142px;margin-left:16px;padding-right:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;border-bottom:1px solid rgba(215,219,224,.4)}.flawedit-_index_childViewBig_dV5SR .flawedit-_index_leftBig_3HU2g{color:#101015;font-size:14px;line-height:50px;text-align:center;height:40px}.flawedit-_index_childViewBig_dV5SR .flawedit-_index_rightBig_15bSG{font-size:14px;color:#a4a5b3;-ms-flex:1;flex:1}.flawedit-_index_childViewBig_dV5SR .flawedit-_index_rightSelectedBig_18-VA{font-size:14px;color:#494952;-ms-flex:1;flex:1}.flawedit-_index_childViewBig_dV5SR .flawedit-_index_inputBig_2XG76{display:block;width:92vw;height:100px}.flawedit-_index_childViewBig_dV5SR .flawedit-_index_imagesDiv_28NJc{width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;overflow-x:scroll;margin-top:6px}.flawedit-_index_childViewBig_dV5SR .flawedit-_index_img_2r3Ht{width:80px;height:80px}.flawedit-_index_selectSpan_37Xcy{max-width:60vw;overflow:hidden;height:16px;text-overflow:ellipsis}.flawedit-_index_submitDiv_1-p55{position:fixed;left:0;bottom:0;background-color:#fff;z-index:100;border-top:1px solid rgba(215,219,224,.5);width:100vw}.flawedit-_index_submitDiv_1-p55 button{display:block;width:91.5%;height:40px;line-height:40px;margin:8px auto;border:none;background:#099dff;color:#fff;border-radius:40px;font-size:15px}",""]),t.locals={container:"flawedit-_index_container_2hKUq",content:"flawedit-_index_content_3_wgb",childBody:"flawedit-_index_childBody_3aBHe",childView:"flawedit-_index_childView_2T7R_",left:"flawedit-_index_left_1UAH4",right:"flawedit-_index_right_2tUMG",rightSelected:"flawedit-_index_rightSelected_1nlMZ",rightImg:"flawedit-_index_rightImg_3dhsx",input:"flawedit-_index_input_2CgUE",childViewBig:"flawedit-_index_childViewBig_dV5SR",leftBig:"flawedit-_index_leftBig_3HU2g",rightBig:"flawedit-_index_rightBig_15bSG",rightSelectedBig:"flawedit-_index_rightSelectedBig_18-VA",inputBig:"flawedit-_index_inputBig_2XG76",imagesDiv:"flawedit-_index_imagesDiv_28NJc",img:"flawedit-_index_img_2r3Ht",selectSpan:"flawedit-_index_selectSpan_37Xcy",submitDiv:"flawedit-_index_submitDiv_1-p55"}},1396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={imageList:""}},1397:function(e,t,a){e.exports=a.p+"assets/imgs/right_2sWGc.png"}});