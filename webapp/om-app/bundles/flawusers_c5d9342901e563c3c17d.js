webpackJsonp([15],{0:function(e,t,n){e.exports=n(1426)},1426:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(25),o=a(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(136);var f=n(2),d=a(f),c=n(5),_=a(c);n(15);var p=n(9),m=a(p),x=n(1427),g=a(x),w=n(24),h=(n(178),function(e){function t(e){i(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=function(e){a.setState({value:e}),console.log(a.state.value)},a._renderItem=function(e,t){var i=e.tag;i&&i.length>0&&(i=i.split(","));var r=a.state.FaultUsers,s={};return r&&r.length-1===t&&(s={paddingLeft:"20px",marginLeft:"0"}),d.default.createElement("div",{className:g.default.itemView,style:s,key:t,onClick:function(){a.setState({selectedIndex:t})}},d.default.createElement("div",{className:g.default.itemLeft},d.default.createElement("span",{className:g.default.userName},e.userName),d.default.createElement("div",{className:g.default.tags},i&&i.length>0?i.map(function(e,t){return d.default.createElement("span",{key:t,className:g.default.identify},e)}):null)),a.state.selectedIndex===t?d.default.createElement("img",{className:g.default.duihao,src:n(1429)}):d.default.createElement("div",null))},a.state={FaultUsers:[],selectedIndex:-1,link:(0,w.getQueryString)("link"),id:(0,w.getQueryString)("id"),name:(0,w.getQueryString)("name"),type:(0,w.getQueryString)("type")},a}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.getFaultUsers()}},{key:"getFaultUsers",value:function(){var e=this,t={powerStationId:(0,w.getQueryString)("siteId")||localStorage.getItem("powerStationId")||""};(0,w.api)("s-solaromds/app/op/fault/getUsers",t,"POST").then(function(t){if(t&&t.length>0){e.setState({FaultUsers:t});for(var n=0;n<t.length;n++){var a=t[n];a&&a.userId==(0,w.getQueryString)("userId")&&e.setState({selectedIndex:n})}}})}},{key:"_transmit",value:function(e){var t={faultId:(0,w.getQueryString)("faultId")||"",transmitUserId:e||""};(0,w.api)("s-solaromds/app/op/fault/transmit",t,"POST").then(function(e){o.default.show("转交成功",2),localStorage.setItem("refresh_flawinfo","true"),parent.location.hash="#/flawinfo?faultId="+t.faultId}).catch(function(){o.default.show("转交失败",2)})}},{key:"submit",value:function(){var e=this.state,t=e.FaultUsers,n=e.selectedIndex,a=e.link,i=e.id,r=e.name,s=e.type;if(0!==t.length){if(n===-1)return void o.default.show("请先选择",2);var l=t[n];"transmit"===s?this._transmit(l.userId):parent.location.hash="#/"+a+"?"+(i||"createUserId")+"="+l.userId+"&"+(r||"createUserIdName")+"="+l.userName}}},{key:"render",value:function(){var e=this,t=this.state.FaultUsers,n=(0,w.getQueryString)("title")||"缺陷指派";return d.default.createElement("div",{className:g.default.container},d.default.createElement(m.default,{title:n}),d.default.createElement("div",{style:{width:"100vw",height:"1px",background:"rgba(215,219,224,0.4)",position:"absolute",top:"65px"}}),d.default.createElement("div",{className:g.default.itemBody},t&&t.length>0?d.default.createElement("div",{className:g.default.userInfoText},t.map(function(t,n){return e._renderItem(t,n)})):null),d.default.createElement("div",{className:g.default.buttonView},d.default.createElement("button",{onClick:function(){return e.submit()}},"提交")))}}]),t}(f.Component));_.default.render(d.default.createElement(h,null),document.getElementById("container"))},1427:function(e,t,n){var a=n(1428);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},1428:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".flawusers-_index_container_5fGTY{width:100%;margin:0;height:100%;background:#fafbfd;overflow:hidden;position:relative}.flawusers-_index_container_5fGTY .flawusers-_index_buttonView_1rC0V{position:fixed;left:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:80px;width:100%;background-color:#fff}.flawusers-_index_container_5fGTY button{display:block;width:90%;height:40px;line-height:40px;border:none;background:#099dff;color:#fff;border-radius:40px;font-size:15px}.flawusers-_index_itemBody_QPL6P{overflow:scroll;height:100%;padding-bottom:100px;background-color:#fff}.flawusers-_index_userInfoText_1vvOz{margin-top:64px}.flawusers-_index_userInfoText_1vvOz .flawusers-_index_itemView_-Mlfc{border-bottom:1px solid rgba(215,219,224,.4);padding-right:20px;margin-left:20px;padding-top:8px;padding-bottom:8px}.flawusers-_index_userInfoText_1vvOz .flawusers-_index_itemView_-Mlfc,.flawusers-_index_userInfoText_1vvOz .flawusers-_index_itemView_-Mlfc .flawusers-_index_itemLeft_3vZOW{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.flawusers-_index_userInfoText_1vvOz .flawusers-_index_itemView_-Mlfc .flawusers-_index_duihao_1XUat{width:16px;height:14px}.flawusers-_index_userInfoText_1vvOz .flawusers-_index_itemView_-Mlfc .flawusers-_index_userName_2hnT9{font-size:14px;color:#292830;margin-right:14px}.flawusers-_index_userInfoText_1vvOz .flawusers-_index_itemView_-Mlfc .flawusers-_index_identify_2E7FL{font-size:12px;color:#328fe6;background:rgba(50,143,230,.14);border-radius:2px;margin-right:5px;display:inline-block;margin-top:4px;margin-bottom:4px;padding-left:6px;padding-right:6px}.flawusers-_index_userInfoText_1vvOz .flawusers-_index_itemView_-Mlfc .flawusers-_index_tags_3fsir{line-height:20px}",""]),t.locals={container:"flawusers-_index_container_5fGTY",buttonView:"flawusers-_index_buttonView_1rC0V",itemBody:"flawusers-_index_itemBody_QPL6P",userInfoText:"flawusers-_index_userInfoText_1vvOz",itemView:"flawusers-_index_itemView_-Mlfc",itemLeft:"flawusers-_index_itemLeft_3vZOW",duihao:"flawusers-_index_duihao_1XUat",userName:"flawusers-_index_userName_2hnT9",identify:"flawusers-_index_identify_2E7FL",tags:"flawusers-_index_tags_3fsir"}},1429:function(e,t,n){e.exports=n.p+"assets/imgs/duihao_SLho5.png"}});