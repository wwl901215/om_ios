webpackJsonp([3],{0:function(e,t,i){e.exports=i(1056)},1056:function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=i(2),s=a(r),c=i(5),f=a(c);i(15);var p=i(9),u=a(p),m=i(1057),x=a(m),_=i(24),g=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={deviceId:(0,_.getQueryString)("deviceId")||"",siteId:(0,_.getQueryString)("siteId"),siteName:(0,_.getQueryString)("siteName"),sn:(0,_.getQueryString)("sn")||"",workOrder:!1,facilityID:"",flaw:!1,basic:!0,showParameter:!1,showAffiliate:!1,showEmpty:!1,orderList:[],flawList:[],unfold:!1,height:!0,basicInfo:null},e.getDeviceDetails=e.getDeviceDetails.bind(e),e.orderList=e.orderList.bind(e),e.getFlawList=e.getFlawList.bind(e),e}return d(t,e),o(t,[{key:"componentDidMount",value:function(){this.getDeviceDetails()}},{key:"getDeviceDetails",value:function(){var e=this,t=this.state,i=t.deviceId,a=t.sn,n=t.siteId;(0,_.api)("s-solaromds/app/device/getDeviceDetails",{deviceId:i,deviceSN:a,powerStationId:n},"POST").then(function(t){console.log(t),e.setState({basicInfo:t,facilityID:t.deviceId})}).catch(function(){window.history.go(-1)})}},{key:"orderList",value:function(){var e=this,t=this.state,i=t.deviceId,a=t.siteId,n=t.facilityID;this.setState({showEmpty:!1}),(0,_.api)("s-solaromds/app/workOrder/orderList",{deviceId:i||n,stationId:a},"POST",!1).then(function(t){console.log(t),e.setState({orderList:t.list,showEmpty:!0})})}},{key:"getFlawList",value:function(){var e=this,t=this.state,i=t.deviceId,a=t.siteId,n=t.facilityID;this.setState({showEmpty:!1}),(0,_.api)("s-solaromds/app/op/fault/list",{deviceId:i||n,powerstationId:a,page:"",limit:""},"POST").then(function(t){console.log(t),e.setState({flawList:t.list,showEmpty:!0})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.height,n=t.workOrder,l=t.flaw,d=t.basic,o=t.flawList,r=t.orderList,c=t.basicInfo,f=t.showEmpty,p=t.deviceId,m=t.siteId,_=t.sn,g=t.siteName,v=t.facilityID;return s.default.createElement("div",{className:x.default.container},s.default.createElement(u.default,{title:"设备详情",goBack:function(){parent.location.hash="#/equipmentLedger?siteName="+g+"&siteId="+m}}),s.default.createElement("div",{className:x.default.number},c?c.deviceNumber:"-"),s.default.createElement("div",{style:{height:"100%",overflow:"auto"}},s.default.createElement("div",{className:x.default.detail,style:d?{overflow:"hidden"}:{overflow:"auto",minHeight:"74%"}},s.default.createElement("div",{className:x.default.tab,style:{fontWeight:"500",fontSize:"15px",paddingBottom:"2px",borderBottom:"1px solid #EBEFF5",display:"flex",justifyContent:"space-around"}},s.default.createElement("span",{className:d?x.default.active:x.default.normal,onClick:function(){e.setState({basic:!0,workOrder:!1,flaw:!1,showEmpty:!1})}},"基本信息",s.default.createElement("div",null)),s.default.createElement("span",{className:n?x.default.active:x.default.normal,onClick:function(){e.setState({flaw:!1,workOrder:!0,basic:!1},function(){e.orderList()})}},"工单",s.default.createElement("div",null)),s.default.createElement("span",{className:l?x.default.active:x.default.normal,onClick:function(){e.setState({flaw:!0,workOrder:!1,basic:!1},function(){e.getFlawList()})}},"缺陷",s.default.createElement("div",null))),d&&c?s.default.createElement("div",null,s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"设备类型"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.categoryName?c.categoryName:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"品牌"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.brandName?c.brandName:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"型号"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.modelName?c.modelName:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"设备编号"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.deviceNumber?c.deviceNumber:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"设备名称"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.deviceName?c.deviceName:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"序列号"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.sn?c.sn:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"上级设备"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.parentName?c.parentName:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"安装位置"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.areaName?c.areaName:"-")),a?s.default.createElement("div",{style:{paddingLeft:"18px",margin:"20px 0 20px 0"},onClick:function(){return e.setState({height:!1})}},s.default.createElement("span",{style:{display:"inline-block",fontSize:"14px",fontWeight:"400",color:"#328FE6",verticalAlign:"bottom",marginRight:"3px"}},"展开更多"),s.default.createElement("span",{style:{display:"inline-block",width:"12px",height:"12px",background:"url("+i(1063)+") no-repeat center"}})):"",a?"":s.default.createElement("div",null,s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"质保期限"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.warrantyPeriod?c.warrantyPeriod:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"质保到期日"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015"}},c.expire?c.expire:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",paddingRight:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"期"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015",overflow:"hidden",wordBreak:"break-all"}},c.periodName?c.periodName:"-")),s.default.createElement("div",{style:{paddingLeft:"18px",paddingRight:"18px",margin:"17px 0 20px 0"}},s.default.createElement("div",{style:{fontSize:"14px",fontWeight:"400",color:"#8A8B99",marginBottom:"5px"}},"录入原因"),s.default.createElement("div",{style:{fontSize:"15px",fontWeight:"400",color:"#101015",overflow:"hidden",wordBreak:"break-all"}},c.reason?c.reason:"-")))):"",n&&r.length?r.map(function(e,t){return s.default.createElement("div",{className:x.default.workDetail,key:t,onClick:function(){return goto("workOrder?orderId="+e.orderId+"&from=details")}},s.default.createElement("div",{className:x.default.workName},e.orderName),s.default.createElement("span",{className:x.default.finish,style:{background:0==e.statusCode||2==e.statusCode||3==e.statusCode?"rgba(255,142,20,.1)":1==e.statusCode?"rgba(0, 184, 180, 0.1)":"rgba(215,216,224,.1)",color:0==e.statusCode||2==e.statusCode||3==e.statusCode?"#FF8E14":1==e.statusCode?"rgba(0, 184, 180, 1)":"#8A8B99"}},e.statusDesc),s.default.createElement("div",{className:x.default.workData},s.default.createElement("p",null,s.default.createElement("span",{style:{color:"#8A8B99",fontZize:"14px",margin:"0"}},"工单编号:"),s.default.createElement("span",{style:{maxWidth:"190px"}},e.orderNumber)),s.default.createElement("p",null,"工单类型:",s.default.createElement("span",null,e.orderTypeDesc)),s.default.createElement("p",null,"计划开始日期:",s.default.createElement("span",null,e.startTime)),s.default.createElement("p",null,"计划结束日期:",s.default.createElement("span",null,e.endTime))))}):d||l?"":s.default.createElement("div",{className:x.default.empty},f?s.default.createElement("div",null,s.default.createElement("div",{className:x.default.emptyImg}),s.default.createElement("div",{className:x.default.emptyText},"暂无数据")):null),l&&o.length?o.map(function(e,t){return s.default.createElement("div",{className:x.default.workDetail,key:t,onClick:function(){goto("flawinfo?faultId="+e.faultId),localStorage.setItem("from","deviceDetails"),localStorage.setItem("sn",_),localStorage.setItem("deviceId",p),localStorage.setItem("siteId",m),localStorage.setItem("siteName",g)}},s.default.createElement("div",{className:x.default.workName},e.faultName),s.default.createElement("span",{className:x.default.finish,style:{background:5==e.processState?"rgba(215,216,224,.4)":"rgba(255,142,20,.1)",color:5==e.processState?"#8A8B99":"#FF8E14"}},1==e.processState?"新建":2==e.processState?"分配中":3==e.processState?"处理中":4==e.processState?"审批中":5==e.processState?"已关闭":""),s.default.createElement("div",{className:x.default.workData},s.default.createElement("p",null,"缺陷编号:",s.default.createElement("span",{style:{maxWidth:"190px"}},e.serialNumber)),s.default.createElement("p",null,"设备名称:",s.default.createElement("span",null,e.deviceName)),s.default.createElement("p",null,"缺陷等级:",s.default.createElement("span",{style:0==e.faultDimensionsCode?{color:"#FF8E14",fontWeight:"500"}:{color:"#F23349",fontWeight:"500"}},e.faultDimensionsValue)),s.default.createElement("p",null,"期望完成日期:",s.default.createElement("span",null,e.expectedTime))))}):d||n?"":s.default.createElement("div",{className:x.default.empty},f?s.default.createElement("div",null,s.default.createElement("div",{className:x.default.emptyImg}),s.default.createElement("div",{className:x.default.emptyText},"暂无数据")):null)),d?s.default.createElement("div",null,s.default.createElement("div",{className:x.default.param,onClick:function(){goto("parameter?deviceIId="+(p||v))}},s.default.createElement("span",null),s.default.createElement("span",null,"技术参数"),s.default.createElement("span",null)),s.default.createElement("div",{className:x.default.fuShu,onClick:function(){goto("affiliate?deviceIId="+(p||v))}},s.default.createElement("span",null),s.default.createElement("span",null,"附属设备"),s.default.createElement("span",null))):"",s.default.createElement("div",{style:{height:"125px"}})))}}]),t}(r.Component);f.default.render(s.default.createElement(g,null),document.getElementById("container"))},1057:function(e,t,i){var a=i(1058);"string"==typeof a&&(a=[[e.id,a,""]]);i(13)(a,{});a.locals&&(e.exports=a.locals)},1058:function(e,t,i){t=e.exports=i(12)(),t.push([e.id,".deviceDetails-_index_container_24f8U{width:100%;margin:0;height:100%;background:#fafbfd;overflow:hidden}.deviceDetails-_index_container_24f8U .deviceDetails-_index_number_Ml6Pp{height:50px;line-height:50px;background:#fff;color:#101015;font-size:18px;font-weight:500;margin-top:64px;border-top:1px solid rgba(215,219,224,.4);border-bottom:1px solid rgba(215,219,224,.4);padding-left:20px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_detail_3NT12{margin:12px 16px 16px;background:#fff;box-shadow:0 4px 20px 2px rgba(47,52,186,.06);border-radius:10px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_tab_1dcv_ span{display:inline-block;height:40px;line-height:42px;position:relative;margin-right:27px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_tab_1dcv_ span div{width:100%;height:4px;border-radius:15px;position:absolute;bottom:0}.deviceDetails-_index_container_24f8U .deviceDetails-_index_tab_1dcv_ .deviceDetails-_index_active_RkoqL{color:#101015}.deviceDetails-_index_container_24f8U .deviceDetails-_index_tab_1dcv_ .deviceDetails-_index_active_RkoqL div{background:#099dff}.deviceDetails-_index_container_24f8U .deviceDetails-_index_tab_1dcv_ .deviceDetails-_index_normal_3nm-r{color:#8a8b99}.deviceDetails-_index_container_24f8U .deviceDetails-_index_param_ePFFG{height:50px;background:#fff;box-shadow:0 4px 20px 2px rgba(47,52,186,.06);border-radius:6px;margin:16px;position:relative;line-height:30px;font-size:15px;font-weight:500;color:#101015;padding:10px 0 10px 12px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_param_ePFFG span{display:inline-block;vertical-align:middle}.deviceDetails-_index_container_24f8U .deviceDetails-_index_param_ePFFG span:first-child{width:30px;height:30px;margin-right:10px;background:url("+i(1059)+") no-repeat 50%}.deviceDetails-_index_container_24f8U .deviceDetails-_index_param_ePFFG span:nth-child(3){width:12px;height:12px;position:absolute;right:16px;top:19px;background:url("+i(1060)+") no-repeat 50%}.deviceDetails-_index_container_24f8U .deviceDetails-_index_fuShu_1L_lL{height:50px;background:#fff;box-shadow:0 4px 20px 2px rgba(47,52,186,.06);border-radius:6px;margin:16px;position:relative;line-height:30px;font-size:15px;font-weight:500;color:#101015;padding:10px 0 10px 12px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_fuShu_1L_lL span{display:inline-block;vertical-align:middle}.deviceDetails-_index_container_24f8U .deviceDetails-_index_fuShu_1L_lL span:first-child{width:30px;height:30px;margin-right:10px;background:url("+i(1061)+") no-repeat 50%}.deviceDetails-_index_container_24f8U .deviceDetails-_index_fuShu_1L_lL span:nth-child(3){width:12px;height:12px;position:absolute;right:16px;top:19px;background:url("+i(1060)+") no-repeat 50%}.deviceDetails-_index_container_24f8U .deviceDetails-_index_workDetail_1cHSG{margin:16px;padding:15px 16px 10px 18px;background:#f6f6f6;border-radius:4px;position:relative}.deviceDetails-_index_container_24f8U .deviceDetails-_index_workDetail_1cHSG .deviceDetails-_index_workName_SqoAE{font-size:17px;font-weight:700;color:#212029;margin-bottom:11px;max-width:75%;overflow:hidden}.deviceDetails-_index_container_24f8U .deviceDetails-_index_workDetail_1cHSG .deviceDetails-_index_finish_2DMfN{display:inline-block;width:60px;height:22px;border-radius:15px;font-size:12px;font-weight:500;line-height:22px;text-align:center;position:absolute;top:15px;right:16px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_workDetail_1cHSG .deviceDetails-_index_workData_3Qhq8 p{color:#8a8b99;font-size:14px;margin:5px 0;display:-ms-flexbox;display:flex}.deviceDetails-_index_container_24f8U .deviceDetails-_index_workDetail_1cHSG .deviceDetails-_index_workData_3Qhq8 span{color:#101015;font-size:14px;margin-left:10px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_empty_2-VA9{width:60px;height:79px;margin:35% auto}.deviceDetails-_index_container_24f8U .deviceDetails-_index_empty_2-VA9 .deviceDetails-_index_emptyImg_5bGm3{width:60px;height:60px;background:url("+i(1062)+") no-repeat 50%;margin-bottom:2px}.deviceDetails-_index_container_24f8U .deviceDetails-_index_empty_2-VA9 .deviceDetails-_index_emptyText_3K0Qw{font-size:12px;font-weight:400;color:#a4a5b3;text-align:center}",""]),t.locals={container:"deviceDetails-_index_container_24f8U",number:"deviceDetails-_index_number_Ml6Pp",detail:"deviceDetails-_index_detail_3NT12",tab:"deviceDetails-_index_tab_1dcv_",active:"deviceDetails-_index_active_RkoqL",normal:"deviceDetails-_index_normal_3nm-r",param:"deviceDetails-_index_param_ePFFG",fuShu:"deviceDetails-_index_fuShu_1L_lL",workDetail:"deviceDetails-_index_workDetail_1cHSG",workName:"deviceDetails-_index_workName_SqoAE",finish:"deviceDetails-_index_finish_2DMfN",workData:"deviceDetails-_index_workData_3Qhq8",empty:"deviceDetails-_index_empty_2-VA9",emptyImg:"deviceDetails-_index_emptyImg_5bGm3",emptyText:"deviceDetails-_index_emptyText_3K0Qw"}},1059:function(e,t,i){e.exports=i.p+"assets/fonts/canshu.svg"},1060:function(e,t,i){e.exports=i.p+"assets/fonts/icon_right.svg"},1061:function(e,t,i){e.exports=i.p+"assets/fonts/fushu.svg"},1062:function(e,t,i){e.exports=i.p+"assets/fonts/empty.svg"},1063:function(e,t,i){e.exports=i.p+"assets/fonts/down_blue.svg"}});