webpackJsonp([9],{0:function(e,t,i){e.exports=i(1370)},1370:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(25),d=n(o),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();i(136);var f=i(2),u=n(f),g=i(5),p=n(g);i(15);var _=i(9),h=n(_),m=i(1371),x=n(m),b=i(24),w=(i(178),function(e){function t(e){r(this,t);var i=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={faultId:i._gQS("faultId")||"",acceptorId:i._gQS("acceptorId"),resolveUserId:i._gQS("resolveUserId"),acceptorIdName:i._gQS("acceptorIdName"),resolveUserIdName:i._gQS("resolveUserIdName"),siteId:i._gQS("siteId")},i}return a(t,e),c(t,[{key:"componentDidMount",value:function(){}},{key:"_gQS",value:function(e,t){return e&&t?(0,b.getQueryString)(e)||localStorage.getItem(t)||"":e?((0,b.getQueryString)(e)&&localStorage.setItem("distribution_"+e,(0,b.getQueryString)(e)),(0,b.getQueryString)(e)||localStorage.getItem("distribution_"+e)||""):""}},{key:"_sState",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),i=0;i<t.length;i++){var n=t[i],r=e[n];localStorage.setItem("distribution_"+n,String(r))}this.setState(s({},e))}},{key:"_clearAll",value:function(){for(var e=this.state,t=Object.keys(e),i=0;i<t.length;i++)try{localStorage.removeItem("distribution_"+t[i])}catch(e){console.log(e)}}},{key:"_acceptorId",value:function(){goto("flawusers?link=flawdistribution&id=acceptorId&name=acceptorIdName&siteId="+this.state.siteId+"&userId="+this.state.acceptorId+"&title=选择验收人")}},{key:"_resolveUserId",value:function(){goto("flawusers?link=flawdistribution&id=resolveUserId&name=resolveUserIdName&siteId="+this.state.siteId+"&userId="+this.state.resolveUserId+"&title=选择处理人")}},{key:"submit",value:function(){var e=this,t=this.state,i=t.acceptorId,n=t.resolveUserId,r=t.faultId;if(!n)return void d.default.show("请选择处理人",2);if(!i)return void d.default.show("请选择验收人",2);var l={faultId:r,acceptorId:i,resolveUserId:n};(0,b.api)("s-solaromds/app/op/fault/distribution",l,"POST").then(function(t){d.default.show("分配成功",2),e._clearAll(),localStorage.setItem("refresh_flawinfo","true"),parent.location.hash="#/flawinfo?faultId="+l.faultId}).catch(function(){d.default.show("分配失败",2)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.acceptorId,r=t.resolveUserId,l=t.acceptorIdName,a=t.resolveUserIdName,o=t.faultId;return u.default.createElement("div",{className:x.default.container},u.default.createElement(h.default,{title:"缺陷指派",goBack:function(){parent.location.hash="#/flawinfo?faultId="+o}}),u.default.createElement("div",{style:{marginTop:"65px",height:"1px",backgroundColor:"rgba(215,219,224,0.4)"}}),u.default.createElement("div",{className:x.default.childView,onClick:function(){return e._resolveUserId()}},u.default.createElement("div",{className:x.default.left},u.default.createElement("span",null,"处理人")),u.default.createElement("div",{className:r?x.default.rightSelected:x.default.right},u.default.createElement("span",null,r?a:"请选择")," ",u.default.createElement("img",{className:x.default.rightImg,src:i(1373)}))),u.default.createElement("div",{style:{backgroundColor:"rgba(215,219,224,0.4)",height:"1px",width:"100%",marginLeft:"16px"}}),u.default.createElement("div",{className:x.default.childView,onClick:function(){return e._acceptorId()}},u.default.createElement("div",{className:x.default.left},u.default.createElement("span",null,"验收人")),u.default.createElement("div",{className:n?x.default.rightSelected:x.default.right},u.default.createElement("span",null,n?l:"请选择")," ",u.default.createElement("img",{className:x.default.rightImg,src:i(1373)}))),u.default.createElement("div",{style:{backgroundColor:"rgba(215,219,224,0.4)",height:"1px",width:"100%"}}),u.default.createElement("div",{className:x.default.buttonView},u.default.createElement("button",{onClick:function(){return e.submit()}},"提交")))}}]),t}(f.Component));p.default.render(u.default.createElement(w,null),document.getElementById("container"))},1371:function(e,t,i){var n=i(1372);"string"==typeof n&&(n=[[e.id,n,""]]);i(13)(n,{});n.locals&&(e.exports=n.locals)},1372:function(e,t,i){t=e.exports=i(12)(),t.push([e.id,".flawdistribution-_index_container_HVo3F{width:100%;margin:0;height:100%;background:#fafbfd;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.flawdistribution-_index_container_HVo3F .flawdistribution-_index_buttonView_1MOTJ{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:80px;width:100%;background-color:#fafbfd;margin-top:16px}.flawdistribution-_index_container_HVo3F button{display:block;width:90%;height:40px;line-height:40px;border:none;background:#099dff;color:#fff;border-radius:40px;font-size:15px}.flawdistribution-_index_childView_JV7H7{height:50px;padding-left:16px;padding-right:16px;background-color:#fff;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.flawdistribution-_index_childView_JV7H7 .flawdistribution-_index_left_1J4eI{color:#101015;font-size:14px;line-height:50px;text-align:center}.flawdistribution-_index_childView_JV7H7 .flawdistribution-_index_right_1oiV3{font-size:14px;color:#a4a5b3;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.flawdistribution-_index_childView_JV7H7 .flawdistribution-_index_rightSelected_LDmO1{font-size:14px;color:#494952;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.flawdistribution-_index_childView_JV7H7 .flawdistribution-_index_rightImg_2WjZ-{width:12px;height:12px;margin-left:4px}.flawdistribution-_index_childView_JV7H7 .flawdistribution-_index_input_1VwaE{text-align:right;height:50px;line-height:50px}",""]),t.locals={container:"flawdistribution-_index_container_HVo3F",buttonView:"flawdistribution-_index_buttonView_1MOTJ",childView:"flawdistribution-_index_childView_JV7H7",left:"flawdistribution-_index_left_1J4eI",right:"flawdistribution-_index_right_1oiV3",rightSelected:"flawdistribution-_index_rightSelected_LDmO1",rightImg:"flawdistribution-_index_rightImg_2WjZ-",input:"flawdistribution-_index_input_1VwaE"}},1373:function(e,t,i){e.exports=i.p+"assets/imgs/right_2sWGc.png"}});