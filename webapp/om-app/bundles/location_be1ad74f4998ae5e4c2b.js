webpackJsonp([17],{0:function(e,t,n){e.exports=n(1431)},1431:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(2),s=a(d),c=n(5),f=a(c);n(15);var u=n(9),_=a(u),m=n(1432),x=a(m),p=n(24),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={headList:[{noSelect:"不选择",name:"位置",id:"",index:0,selectedList:[]}],selectedData:null,link:(0,p.getQueryString)("link")},n}return l(t,e),r(t,[{key:"componentDidMount",value:function(){this._getData()}},{key:"_getData",value:function(){var e=this,t={powerStationId:(0,p.getQueryString)("siteId")||localStorage.getItem("powerStationId")||""};(0,p.api)("s-solaromds/app/common/getAreaTree",t,"POST").then(function(t){if(console.log("地址列表"),console.log(t),t&&t.length>0){var n=e.state.headList;n[0].selectedList=t,e.setState({headList:n})}},function(e){})}},{key:"submit",value:function(){var e=this.state,t=e.selectedData,n=e.link;t&&t.id&&t.name?parent.location.hash="#/"+n+"?areaId="+t.id+"&areaIdName="+t.name:(localStorage.removeItem("flaw_areaId"),localStorage.removeItem("flaw_areaIdName"),localStorage.removeItem("flaw_edit_areaId"),localStorage.removeItem("flaw_edit_areaIdName"),parent.location.hash="#/"+n+"?areaId=&areaIdName=")}},{key:"_headItemClick",value:function(e,t){console.log(e);var n=this.state.headList,a=n.length;if(a>1&&t<a-1)if(n[t].noSelect)this.setState({headList:[{noSelect:"不选择",name:"位置",id:"",index:0,selectedList:n[t].selectedList||[]}],selectedData:null});else{n.pop();var i="";n.map(function(e,t){t>0&&(i=i?i+" > "+e.name:""+e.name)}),this.setState({headList:n,selectedData:{name:i,id:n[t].id}})}}},{key:"_listItemClick",value:function(e,t){var n=this.state,a=n.headList,i=n.selectedData;a.push({name:e.areaName,id:e.areaId,index:t,pId:e.parentId,selectedList:e.subList||[]});var o="";o=i&&i.name?i.name+" > "+e.areaName:e.areaName,e.subList&&e.subList.length>0?this.setState({headList:a,selectedData:{name:o,id:e.areaId}}):this.setState({headList:a,selectedData:{name:o,id:e.areaId}})}},{key:"_renderHead",value:function(e,t){var n=this,a=this.state.headList,i=a.length,o=1===i||i>1&&t+1==i;return s.default.createElement("div",{key:t,className:x.default.headDiv,onClick:function(){return n._headItemClick(e,t)}},s.default.createElement("span",{className:x.default.headName,style:{color:o?"":"#0084FF"}},1===i?e.noSelect:e.name),o?null:s.default.createElement("span",{className:x.default.big},">"))}},{key:"_renderItem",value:function(e,t,a){var i=this;return s.default.createElement("div",{key:t,className:x.default.idd},s.default.createElement("div",{className:x.default.itemDiv,style:a.length==t+1?{paddingLeft:"16px",marginLeft:"0"}:{paddingLeft:"0px",marginLeft:"16px"},key:t,onClick:function(){return i._listItemClick(e,t)}},s.default.createElement("span",null,e.areaName),s.default.createElement("img",{className:x.default.rightImg,src:n(1434)})))}},{key:"render",value:function(){var e=this,t=this.state.headList,n=t[t.length-1].selectedList;return s.default.createElement("div",{className:x.default.container},s.default.createElement(_.default,{title:"选择位置"}),s.default.createElement("div",{className:x.default.userInfoText},s.default.createElement("div",{className:x.default.topSelect,style:{display:t.length>1?"flex":"none"}},t.map(function(t,n){return e._renderHead(t,n)})),s.default.createElement("div",{className:x.default.listDiv,style:{display:n&&n.length>0?"flex":"none"}},n?n.map(function(t,a){return e._renderItem(t,a,n)}):null),s.default.createElement("div",{className:x.default.bottomDiv},s.default.createElement("button",{onClick:function(){return e.submit()}},"提交"))))}}]),t}(d.Component);f.default.render(s.default.createElement(h,null),document.getElementById("container"))},1432:function(e,t,n){var a=n(1433);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},1433:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".location-_index_container_1-A8C{width:100%;margin:0;height:100%;background:#fafbfd;overflow:hidden}.location-_index_userInfoText_3b06F{margin-top:64px;position:relative;height:100%;overflow:hidden}.location-_index_userInfoText_3b06F .location-_index_bottomDiv_1Rwea{position:fixed;left:0;bottom:0;width:100%;height:56px;background-color:#fff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-top:1px solid rgba(215,219,224,.5)}.location-_index_userInfoText_3b06F button{display:block;width:90%;height:40px;line-height:40px;border:none;background:#099dff;color:#fff;border-radius:40px;font-size:16px;font-weight:600}.location-_index_userInfoText_3b06F .location-_index_topSelect_1q3JX{width:100%;padding-left:16px;background-color:#fff;border-bottom:1px solid rgba(215,219,224,.4);border-top:1px solid rgba(215,219,224,.4);font-weight:500;font-size:16px;overflow-x:auto;margin-bottom:10px}.location-_index_userInfoText_3b06F .location-_index_headDiv_PtbAt,.location-_index_userInfoText_3b06F .location-_index_topSelect_1q3JX{height:50px;line-height:50px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.location-_index_userInfoText_3b06F .location-_index_headDiv_PtbAt{color:#3c3e47;margin-right:8px;-ms-flex-negative:0;flex-shrink:0}.location-_index_userInfoText_3b06F .location-_index_listDiv_34gtX{width:100%;border-top:1px solid rgba(215,219,224,.4);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:auto;max-height:100%;padding-bottom:186px;-ms-flex-pack:start;justify-content:start}.location-_index_userInfoText_3b06F .location-_index_itemDiv_-4MYN{height:50px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;line-height:50px;border-bottom:1px solid rgba(215,219,224,.4);padding-right:16px;margin-left:16px;font-size:14px;color:#101015;background-color:#fff}.location-_index_userInfoText_3b06F .location-_index_idd_3IDVG{background-color:#fff}.location-_index_userInfoText_3b06F .location-_index_rightImg_2Xlrq{width:12px;height:12px}.location-_index_userInfoText_3b06F .location-_index_big_3peVe{font-size:22px;display:contents;color:#0084ff}.location-_index_userInfoText_3b06F .location-_index_headName_Wljk1{display:inline-block;margin-right:8px;height:50px;line-height:50px}",""]),t.locals={container:"location-_index_container_1-A8C",userInfoText:"location-_index_userInfoText_3b06F",bottomDiv:"location-_index_bottomDiv_1Rwea",topSelect:"location-_index_topSelect_1q3JX",headDiv:"location-_index_headDiv_PtbAt",listDiv:"location-_index_listDiv_34gtX",itemDiv:"location-_index_itemDiv_-4MYN",idd:"location-_index_idd_3IDVG",rightImg:"location-_index_rightImg_2Xlrq",big:"location-_index_big_3peVe",headName:"location-_index_headName_Wljk1"}},1434:function(e,t,n){e.exports=n.p+"assets/imgs/right_2sWGc.png"}});