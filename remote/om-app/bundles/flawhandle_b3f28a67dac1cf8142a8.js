webpackJsonp([11],{0:function(e,t,n){e.exports=n(1398)},1375:function(e,t,n){"use strict";n(1376)},1376:function(e,t,n){"use strict";n(1377),n(1380)},1377:function(e,t,n){"use strict";n(137),n(1378)},1378:function(e,t,n){var a=n(1379);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},1379:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,'.am-picker-col{display:block;position:relative;height:238px;overflow:hidden;width:100%}.am-picker-col-content{position:absolute;left:0;top:0;width:100%;z-index:1;padding:102px 0}.am-picker-col-item{-ms-touch-action:manipulation;touch-action:manipulation;text-align:center;font-size:16px;height:34px;line-height:34px;color:#000;white-space:nowrap;text-overflow:ellipsis}.am-picker-col-item-selected{font-size:17px}.am-picker-col-mask{top:0;height:100%;margin:0 auto;background-image:linear-gradient(180deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6)),linear-gradient(0deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6));background-position:top,bottom;background-size:100% 102px;background-repeat:no-repeat}.am-picker-col-indicator,.am-picker-col-mask{position:absolute;left:0;width:100%;z-index:3}.am-picker-col-indicator{box-sizing:border-box;height:34px;top:102px;border-top:1px solid #ddd;border-bottom:1px solid #ddd}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx){html:not([data-scale]) .am-picker-col-indicator{border-top:none}html:not([data-scale]) .am-picker-col-indicator:before{content:"";position:absolute;background-color:#ddd;display:block;z-index:1;top:0;right:auto;bottom:auto;left:0;width:100%;height:1px;transform-origin:50% 50%;transform:scaleY(.5)}}@media (-webkit-min-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:3),(min-resolution:2dppx) and (min-resolution:3dppx){html:not([data-scale]) .am-picker-col-indicator:before{transform:scaleY(.33)}}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx){html:not([data-scale]) .am-picker-col-indicator{border-bottom:none}html:not([data-scale]) .am-picker-col-indicator:after{content:"";position:absolute;background-color:#ddd;display:block;z-index:1;top:auto;right:auto;bottom:0;left:0;width:100%;height:1px;transform-origin:50% 100%;transform:scaleY(.5)}}@media (-webkit-min-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:3),(min-resolution:2dppx) and (min-resolution:3dppx){html:not([data-scale]) .am-picker-col-indicator:after{transform:scaleY(.33)}}.am-picker{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.am-picker-item{-ms-flex:1;flex:1;text-align:center}',""])},1380:function(e,t,n){var a=n(1381);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},1381:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,'.am-picker-popup{left:0;bottom:0;position:fixed;width:100%;background-color:#fff;padding-bottom:env(safe-area-inset-bottom)}.am-picker-popup-wrap{overflow:auto;-webkit-overflow-scrolling:touch;outline:0}.am-picker-popup-mask,.am-picker-popup-wrap{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;transform:translateZ(1px)}.am-picker-popup-mask{background-color:rgba(0,0,0,.4);height:100%}.am-picker-popup-mask-hidden{display:none}.am-picker-popup-header{background-image:linear-gradient(180deg,#e7e7e7,#e7e7e7,transparent,transparent);background-position:bottom;background-size:100% 1px;background-repeat:no-repeat;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;border-bottom:1px solid #ddd}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx){html:not([data-scale]) .am-picker-popup-header{border-bottom:none}html:not([data-scale]) .am-picker-popup-header:after{content:"";position:absolute;background-color:#ddd;display:block;z-index:1;top:auto;right:auto;bottom:0;left:0;width:100%;height:1px;transform-origin:50% 100%;transform:scaleY(.5)}}@media (-webkit-min-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:3),(min-resolution:2dppx) and (min-resolution:3dppx){html:not([data-scale]) .am-picker-popup-header:after{transform:scaleY(.33)}}.am-picker-popup-header .am-picker-popup-header-right{text-align:right}.am-picker-popup-item{color:#108ee9;font-size:17px;padding:9px 15px;height:42px;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.am-picker-popup-item-active{background-color:#ddd}.am-picker-popup-title{-ms-flex:1;flex:1;text-align:center;color:#000}.am-picker-popup .am-picker-popup-close{display:none}.am-picker-col{-ms-flex:1;flex:1}',""])},1398:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(o,i){try{var l=t[o](i),r=l.value}catch(e){return void n(e)}return l.done?void e(r):Promise.resolve(r).then(function(e){a("next",e)},function(e){a("throw",e)})}return a("next")})}}function s(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),o=a.length,i=new Uint8Array(o);o--;)i[o]=a.charCodeAt(o);return new Blob([i],{type:n})}function c(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=n>9?n:"0"+n,o=e.getDay()+1,i=o>9?o:"0"+o;return""+t+a+i+"/"+e.getTime()+"/"}var u=n(331),p=a(u),f=n(25),h=a(f),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1375),n(136);var g=n(2),v=a(g),w=n(5),_=a(w);n(15);var b=n(9),k=a(b),y=n(1367),E=a(y),P=n(1399),L=a(P),S=n(24),I=(n(178),n(1391)),N=a(I),T=n(1401),D=a(T),z=n(1356),R=a(z),C=n(157),V=n(24),U=function(){var e=d(regeneratorRuntime.mark(function e(t,n){var a,o,i,l,r,d,u,p,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=[],o=[],i=!0,l=!1,r=void 0,e.prev=6,d=n[Symbol.iterator]();!(i=(u=d.next()).done);i=!0)p=u.value,p.upload?(f=c()+p.fileName,o.push(f),h=azblob.BlockBlobURL.fromContainerURL(t,f),a.push(azblob.uploadBrowserDataToBlockBlob(azblob.Aborter.none,s(p.fileUrl),h))):o.push(p.fileUrl);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),l=!0,r=e.t0;case 14:e.prev=14,e.prev=15,!i&&d.return&&d.return();case 17:if(e.prev=17,!l){e.next=20;break}throw r;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return console.log("aaa"),console.log(o),e.next=26,Promise.all(a);case 26:return e.abrupt("return",o);case 29:e.prev=29,e.t1=e.catch(0),console.log(e.t1.body.message);case 32:case"end":return e.stop()}},e,void 0,[[0,29],[6,10,14,22],[15,,17,21]])}));return function(t,n){return e.apply(this,arguments)}}(),B=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={faultId:(0,S.getQueryString)("faultId"),imageList:[],actionPhoto:[],workPhoto:[],showPreView:!1,preViewIndex:0,showImageList:[],containerURL:"",vedioInfo:{},result:"",handleDescribe:"",showButton:!1,resolveTime:"",actionTicketId:"",workTicketId:""},n}return r(t,e),x(t,[{key:"componentDidMount",value:function(){var e=this;(0,S.api)("s-solaromds/app/common/sas",{},"POST",!1).then(function(t){var n=new azblob.ContainerURL("https://solarasset.blob.core.chinacloudapi.cn/omtest1/?"+t,azblob.StorageURL.newPipeline(new azblob.AnonymousCredential));e.setState({containerURL:n})}).catch(function(e){console.log(e)})}},{key:"handleChange",value:function(e){this.setState({result:e.target.value})}},{key:"handleDescribe",value:function(e){this.setState({handleDescribe:e.target.value})}},{key:"handlePreview",value:function(e,t){console.log(t),this.setState({showPreView:!0,showImageList:e,preViewIndex:t})}},{key:"handleClosePreview",value:function(){this.setState({showPreView:!1,showImageList:[],preViewIndex:0})}},{key:"takePhotos",value:function(e){console.log("info",e);var t=[].concat(o(this.state.imageList));t.push(e),this.setState({imageList:t})}},{key:"handleDeletPhoto",value:function(e){console.log(e);var t=[].concat(o(this.state.imageList));t.splice(e,1),this.setState({imageList:t})}},{key:"handleActionPhoto",value:function(e){console.log("info",e);var t=[].concat(o(this.state.actionPhoto));t.push(e),this.setState({actionPhoto:t})}},{key:"deleteActionPhoto",value:function(e){console.log(e);var t=[].concat(o(this.state.actionPhoto));t.splice(e,1),this.setState({actionPhoto:t})}},{key:"handleWorkPhoto",value:function(e){console.log("info",e);var t=[].concat(o(this.state.workPhoto));t.push(e),this.setState({workPhoto:t})}},{key:"deleteWorkPhoto",value:function(e){console.log(e);var t=[].concat(o(this.state.workPhoto));t.splice(e,1),this.setState({workPhoto:t})}},{key:"handleSetViedo",value:function(){function e(e){return t.apply(this,arguments)}var t=d(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleSetViedo"),e.next=3,U(this.state.containerURL,[t]);case 3:n=e.sent,this.setState({vedioInfo:m({},t,{fileUrl:n[0]?"https://solarasset.blob.core.chinacloudapi.cn/omtest1/"+n[0]:"",uploadfileUrl:n[0]})});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"handleDeletVideo",value:function(){console.log("删除视频"),this.setState({vedioInfo:{vedioName:"",vedioUrl:""}})}},{key:"submit",value:function(){var e=this.state,t=e.imageList,n=e.containerURL,a=e.faultId,o=e.result,i=e.vedioInfo,l=e.handleDescribe,r=e.actionPhoto,d=e.workPhoto,s=e.resolveTime,c=e.actionTicketId,u=e.workTicketId;if(!l)return void h.default.show("请填写处理方式");if(!o)return void h.default.show("请填写处理结果");if(t&&0==t.length)return void h.default.show("请上传图片");if(!s)return void h.default.show("请填写实际解决时间");var p=[],f=[];t&&t.length>0&&(p.push(U(n,t)),f.push("imageList")),r&&r.length>0&&(p.push(U(n,r)),f.push("actionPhoto")),d&&d.length>0&&(p.push(U(n,d)),f.push("workPhoto")),Promise.all(p).then(function(e){for(var t=[],n=[],r=[],d=0;d<f.length;d++)"imageList"===f[d]&&(t=e[d]),"actionPhoto"===f[d]&&(n=e[d]),"workPhoto"===f[d]&&(r=e[d]);var p={faultId:a,images:t,actionPhoto:n,workPhoto:r,result:o,vedios:i.uploadfileUrl?[i.uploadfileUrl]:[],actionTicketId:c||"",workTicketId:u||"",resolveTime:s?s+" 00:00:00":"",handleDescribe:l};(0,S.api)("s-solaromds/app/op/fault/handle",p,"POST",!0).then(function(e){h.default.success("处理成功",1),localStorage.setItem("refresh_flawinfo","true"),parent.location.hash="#/flawinfo?faultId="+p.faultId},function(e){h.default.fail("处理失败",1)})}).catch(function(e){console.log(e),h.default.fail("处理失败",1)})}},{key:"_actionTicket",value:function(e){console.log(e),this.setState({actionTicketId:e})}},{key:"_workTicketId",value:function(e){this.setState({workTicketId:e})}},{key:"render",value:function(){var e=this,t={height:"50px",paddingLeft:"16px",paddingRight:"16px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:"solid 1px rgba(215,219,224,0.4)"},a={color:"#101015",fontSize:"14px",lineHeight:"50px",textAlign:"center"},o={fontSize:"14px",color:"#A4A5B3",display:"flex",flexDirection:"row",alignItems:"center"},i={fontSize:"14px",color:"#494952",display:"flex",flexDirection:"row",alignItems:"center"},l={width:"12px",height:"12px",marginLeft:"4px"},r=this.state,d=r.imageList,s=r.actionPhoto,c=r.showPreView,u=r.preViewIndex,f=r.vedioInfo,h=r.showButton,m=r.resolveTime,x=r.actionTicketId,g=r.workTicketId,w=r.workPhoto,_=r.showImageList;return v.default.createElement("div",{className:L.default.container},v.default.createElement(k.default,{leftStyle:L.default.leftStyle,headStyle:L.default.headStyle,leftIcon:n(1406),title:"缺陷处理"}),v.default.createElement("div",{className:L.default.userInfoText},v.default.createElement("div",{className:L.default.line}),v.default.createElement("div",{style:{height:"14px",backgroundColor:"white",width:"100%"}}),v.default.createElement("div",{className:L.default.result},v.default.createElement("span",null,"处理方式 ",v.default.createElement("span",{style:{color:"#F23349"}},"*"))),v.default.createElement(E.default,{maxLength:100,inputClassName:L.default.userInput,placeholder:"请输入",onChange:function(t){return e.handleDescribe(t)}}),v.default.createElement("div",{className:L.default.shortLine}),v.default.createElement("div",{style:{height:"14px",backgroundColor:"white",width:"100%"}}),v.default.createElement("div",{className:L.default.result},v.default.createElement("span",null,"处理结果 ",v.default.createElement("span",{style:{color:"#F23349"}},"*"))),v.default.createElement(E.default,{maxLength:100,inputClassName:L.default.userInput,placeholder:"请输入",onChange:function(t){return e.handleChange(t)}}),v.default.createElement("div",{className:L.default.shortLine}),v.default.createElement("div",{className:L.default.itemDiv},v.default.createElement("div",{className:L.default.picText},v.default.createElement("span",null,"照片 ",v.default.createElement("span",{style:{color:"#F23349"}},"*"))),v.default.createElement(N.default,{show:function(t){e.setState({showButton:t}),C.Keyboard.hide()},outStyle:L.default.outStyle,imageList:d,takePhotos:function(t){return e.takePhotos(t)},handleDelet:function(t){return e.handleDeletPhoto(t)},handlePreview:function(t){return e.handlePreview(d,t)}})),v.default.createElement("div",{className:L.default.itemDiv2},v.default.createElement("div",{className:L.default.picText2},v.default.createElement("span",null,"视频 ")),v.default.createElement(D.default,{show:function(t){e.setState({showButton:t}),C.Keyboard.hide()},vedioInfo:f,handleDeletVideo:function(){return e.handleDeletVideo()},handleSetViedo:function(t){return e.handleSetViedo(t)}})),v.default.createElement(p.default,{mode:"date",title:"实际解决时间",extra:"请选择",onChange:function(t){return e.setState({resolveTime:(0,V.fmtDate)(t,"yyyy-MM-dd")})}},v.default.createElement("div",{className:L.default.date},v.default.createElement("div",{style:t},v.default.createElement("div",{style:a},v.default.createElement("span",null,"实际解决时间 ",v.default.createElement("span",{style:{color:"#F23349"}},"*"))),v.default.createElement("div",{style:m?i:o},v.default.createElement("span",null,m?m.replace(/-/g,"/"):"请选择")," ",v.default.createElement("img",{style:l,src:n(1407)}))))),v.default.createElement("div",{className:L.default.gap}),v.default.createElement("div",{className:L.default.date},v.default.createElement("div",{className:L.default.childView},v.default.createElement("div",{className:L.default.left},v.default.createElement("span",null,"操作票号 ")),v.default.createElement("div",{className:x?L.default.rightSelected:L.default.right},v.default.createElement("input",{value:x,placeholder:"请输入",className:L.default.input,onChange:function(t){return e._actionTicket(t.target.value)},autoFocus:!1})))),v.default.createElement("div",{className:L.default.itemDiv},v.default.createElement("div",{className:L.default.picText},v.default.createElement("span",null,"操作票照片 ")),v.default.createElement(N.default,{show:function(t){e.setState({showButton:t}),C.Keyboard.hide()},outStyle:L.default.outStyle,imageList:s,takePhotos:function(t){return e.handleActionPhoto(t)},handleDelet:function(t){return e.deleteActionPhoto(t)},handlePreview:function(t){return e.handlePreview(s,t)}})),v.default.createElement("div",{className:L.default.gap,style:{borderTop:"rgba(215,219,224,0.4) solid 1px"}}),v.default.createElement("div",{className:L.default.date},v.default.createElement("div",{className:L.default.childView},v.default.createElement("div",{className:L.default.left},v.default.createElement("span",null,"工作票号 ")),v.default.createElement("div",{className:g?L.default.rightSelected:L.default.right},v.default.createElement("input",{value:g,placeholder:"请输入",className:L.default.input,onChange:function(t){return e._workTicketId(t.target.value)},autoFocus:!1})))),v.default.createElement("div",{className:L.default.itemDiv,style:{borderBottom:"1px solid rgba(215,219,224,0.4)"}},v.default.createElement("div",{className:L.default.picText},v.default.createElement("span",null,"工作票照片 ")),v.default.createElement(N.default,{show:function(t){e.setState({showButton:t}),C.Keyboard.hide()},outStyle:L.default.outStyle,imageList:w,takePhotos:function(t){return e.handleWorkPhoto(t)},handleDelet:function(t){return e.deleteWorkPhoto(t)},handlePreview:function(t){return e.handlePreview(w,t)}}))),v.default.createElement("div",{className:L.default.submitDiv,style:{display:h?"none":"flex"}},v.default.createElement("button",{onClick:function(){return e.submit()}},"提交")),c&&v.default.createElement(R.default,{imageList:_,activeIndex:u,close:function(){e.handleClosePreview()}}))}}]),t}(g.Component);_.default.render(v.default.createElement(B,null),document.getElementById("container"))},1399:function(e,t,n){var a=n(1400);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},1400:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".flawhandle-_index_container_3cHvL{width:100%;margin:0;height:100%;background:#fafbfd;position:relative;overflow:hidden}.flawhandle-_index_container_3cHvL input{-webkit-user-select:auto!important;-moz-user-select:auto!important;-ms-user-select:auto!important;user-select:auto!important;width:60vw;box-shadow:none;outline:none;resize:none;border:none;-webkit-appearance:none}.flawhandle-_index_container_3cHvL input::-webkit-input-placeholder{color:#a4a5b3;vertical-align:center;height:30px;line-height:30px}.flawhandle-_index_container_3cHvL input::-moz-placeholder{color:#a4a5b3;vertical-align:center;height:30px;line-height:30px}.flawhandle-_index_container_3cHvL input::-ms-input-placeholder{color:#a4a5b3;vertical-align:center;height:30px;line-height:30px}.flawhandle-_index_userInfoText_1NLf6{margin-top:64px;position:relative;background-color:#fafbfd;padding-bottom:77px;overflow-y:auto;overflow-x:hidden;height:calc(100vh - 64px)}.flawhandle-_index_userInput_3UwMb{display:block;width:100%;height:130px;background:#fff;border:none;padding:6px 16px 10px;outline:none;font-size:14px;color:#292830}.flawhandle-_index_leftStyle_X_OJm{width:14px;height:14px;margin-top:3px}.flawhandle-_index_headStyle_2oibH{border-bottom:1px solid rgba(215,219,224,.4)}.flawhandle-_index_result_pIBWH{height:20px;width:100%;font-size:14px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#101015;line-height:20px;padding-left:16px;background-color:#fff}.flawhandle-_index_line_1Frw_{height:1px;background-color:#fff;width:100%}.flawhandle-_index_shortLine_yLJil{background:rgba(215,219,224,.4);height:1px;width:100vw;margin-left:16px}.flawhandle-_index_picText_Ld95X{font-size:14px;color:#101015;margin-left:40px}.flawhandle-_index_itemDiv_269h-{width:120%;background-color:#fff;padding-left:16px;padding-top:15px;padding-bottom:6px;margin-left:-40px}.flawhandle-_index_picText2_DKt4E{font-size:14px;color:#101015}.flawhandle-_index_itemDiv2_1zi1c{width:100%;background-color:#fff;padding-left:16px;padding-top:15px;padding-bottom:18px;border-top:1px solid rgba(215,219,224,.4);border-bottom:1px solid rgba(215,219,224,.4)}.flawhandle-_index_submitDiv_2qyUf{position:fixed;left:0;bottom:0;background-color:#fff;z-index:9999;border-top:1px solid rgba(215,219,224,.4);width:100vw}.flawhandle-_index_submitDiv_2qyUf button{display:block;width:91.5%;height:40px;line-height:40px;margin:8px auto;border:none;background:#099dff;color:#fff;border-radius:40px;font-size:15px}.flawhandle-_index_outStyle_17TcN{margin-top:0}.flawhandle-_index_date_1sCBQ{background-color:#fff}.flawhandle-_index_gap_LEyUY{height:10px;width:100vw;background-color:#fafbfd;border-bottom:1px solid rgba(215,219,224,.4)}.flawhandle-_index_childView_YlXpt{height:50px;margin-left:16px;padding-right:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid rgba(215,219,224,.4)}.flawhandle-_index_childView_YlXpt .flawhandle-_index_left_1ZWJY{color:#101015;font-size:14px;line-height:50px;text-align:center}.flawhandle-_index_childView_YlXpt .flawhandle-_index_right_2jGOJ{font-size:14px;color:#a4a5b3;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.flawhandle-_index_childView_YlXpt .flawhandle-_index_rightSelected_uxuBL{font-size:14px;color:#494952;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.flawhandle-_index_childView_YlXpt .flawhandle-_index_rightImg_1iChq{width:12px;height:12px;margin-left:4px}.flawhandle-_index_childView_YlXpt .flawhandle-_index_input_1utVN{text-align:right;vertical-align:center;height:30px;line-height:30px}",""]),t.locals={container:"flawhandle-_index_container_3cHvL",userInfoText:"flawhandle-_index_userInfoText_1NLf6",userInput:"flawhandle-_index_userInput_3UwMb",leftStyle:"flawhandle-_index_leftStyle_X_OJm",headStyle:"flawhandle-_index_headStyle_2oibH",result:"flawhandle-_index_result_pIBWH",line:"flawhandle-_index_line_1Frw_",shortLine:"flawhandle-_index_shortLine_yLJil",picText:"flawhandle-_index_picText_Ld95X",itemDiv:"flawhandle-_index_itemDiv_269h-",picText2:"flawhandle-_index_picText2_DKt4E",itemDiv2:"flawhandle-_index_itemDiv2_1zi1c",submitDiv:"flawhandle-_index_submitDiv_2qyUf",outStyle:"flawhandle-_index_outStyle_17TcN",date:"flawhandle-_index_date_1sCBQ",gap:"flawhandle-_index_gap_LEyUY",childView:"flawhandle-_index_childView_YlXpt",left:"flawhandle-_index_left_1ZWJY",right:"flawhandle-_index_right_2jGOJ",rightSelected:"flawhandle-_index_rightSelected_uxuBL",rightImg:"flawhandle-_index_rightImg_1iChq",input:"flawhandle-_index_input_1utVN"}},1401:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(o,i){try{var l=t[o](i),r=l.value}catch(e){return void n(e)}return l.done?void e(r):Promise.resolve(r).then(function(e){a("next",e)},function(e){a("throw",e)})}return a("next")})}}function i(e){function t(){console.log("开始播放");var e=document.getElementById("myVideo");e.play();try{e.controls=!1}catch(e){console.log("error",e)}}var n=function(){var t=o(regeneratorRuntime.mark(function t(n){var a,o,i,l,r,d,s,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h(!1),e.show&&e.show(!1),2!==n){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,0!==n){t.next=18;break}return t.next=8,u.Media.captureVideo({duration:15});case 8:return a=t.sent,o=a[0].localURL,t.next=12,u.Files.getFileBy(o).readAsDataURL();case 12:i=t.sent,l=i.rawFile,r=i.result,e.handleSetViedo({fileName:l.name,fileUrl:r,upload:!0}),t.next=32;break;case 18:if(1!==n){t.next=32;break}return t.next=21,u.Media.getPicture({sourceType:2,mediaType:1,destinationType:u.device.isAndroid?u.Media.Camera.DestinationType.FILE_URI:u.Media.Camera.DestinationType.NATIVE_URI,quality:20});case 21:return d=t.sent,console.log("Media.getPicture ---end ---Files.getFileBy start"),console.log("file://"+d),t.next=26,u.Files.getFileBy(u.device.isAndroid?"file://"+d:d).readAsDataURL();case 26:s=t.sent,c=s.rawFile,p=s.result,console.log("Files.getFileBy ---end"),console.log(c.name),e.handleSetViedo({fileName:c.name,fileUrl:p,upload:!0});case 32:t.next=37;break;case 34:t.prev=34,t.t0=t.catch(4),console.log("error",t.t0);case 37:case"end":return t.stop()}},t,this,[[4,34]])}));return function(e){return t.apply(this,arguments)}}(),a=e.vedioInfo,i=void 0===a?{}:a,s=(0,r.useState)(!1),p=l(s,2),f=p[0],h=p[1];return d.default.createElement("div",{className:c.default.videos},!i.fileName&&d.default.createElement("div",{className:c.default.add,onClick:function(){h(!0),e.show&&e.show(!0)}}),i.fileName&&d.default.createElement("div",{className:c.default.hasData},d.default.createElement("video",{id:"myVideo",src:i.fileUrl,className:c.default.myVideo},d.default.createElement("source",{src:i.fileUrl,type:"video/mp4"}),d.default.createElement("source",{src:i.fileUrl,type:"video/ogg"}),d.default.createElement("source",{src:i.fileUrl,type:"video/quicktime"}),"您的浏览器不支持该视频格式。"),d.default.createElement("i",{onClick:t,className:c.default.play}),d.default.createElement("i",{onClick:e.handleDeletVideo,className:c.default.delete})),f&&d.default.createElement("div",{className:c.default.selectPopup,onClick:function(){h(!1),e.show&&e.show(!1)}},d.default.createElement("ul",null,d.default.createElement("li",{onClick:function(){return n(0)}},"拍摄"),d.default.createElement("li",null),d.default.createElement("li",{onClick:function(){return n(1)}},"从手机相册选择"),d.default.createElement("li",null),d.default.createElement("li",{onClick:function(){return n(2)}},"取消"))))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&r.return&&r.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(2),d=a(r),s=n(1402),c=a(s),u=n(157);t.default=i},1402:function(e,t,n){var a=n(1403);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},1403:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".taskList-components-recordResult-videos-_index_videos_1qLY4{margin-top:16px;margin-top:1rem;display:-ms-flexbox;display:flex;position:relative;z-index:999}.taskList-components-recordResult-videos-_index_add_2YGY0{height:80px;height:5rem;width:80px;width:5rem;background:url("+n(1395)+") no-repeat;background-size:cover;background-position:50%}.taskList-components-recordResult-videos-_index_hasData_2C7Al{position:relative;height:80px;height:5rem;width:80px;width:5rem}.taskList-components-recordResult-videos-_index_delete_1dgTu{position:absolute;right:-8px;top:-8px;height:16px;width:16px;background:url("+n(1394)+") no-repeat;background-size:cover;background-position:50%}.taskList-components-recordResult-videos-_index_play_1mJqm{position:absolute;left:21.333px;left:1.33333rem;top:21.333px;top:1.33333rem;opacity:.6;width:37.333px;width:2.33333rem;height:37.333px;height:2.33333rem;background:url("+n(1404)+") no-repeat;background-size:cover;background-position:50%}.taskList-components-recordResult-videos-_index_selectPopup_218hk{position:fixed;top:0;left:0;height:100vh;z-index:9999;width:100vw;background:rgba(0,0,0,.3)}.taskList-components-recordResult-videos-_index_selectPopup_218hk>ul{position:absolute;bottom:0;left:0;width:100vw;background:#fff;padding:0;margin:0}.taskList-components-recordResult-videos-_index_selectPopup_218hk>ul>li{font-size:21.333px;font-size:1.33333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#212029;line-height:66.666px;line-height:4.16667rem;text-align:center}.taskList-components-recordResult-videos-_index_selectPopup_218hk>ul>li:nth-of-type(2){background:#d7dbe0;height:1px}.taskList-components-recordResult-videos-_index_selectPopup_218hk>ul>li:nth-of-type(4){height:12px;background:rgba(215,219,224,.4)}.taskList-components-recordResult-videos-_index_myVideo_2fhI6{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;background:url("+n(1405)+") no-repeat;background-position:50%;background-size:cover;border:1px solid #c5c5d1;border-radius:4px}",""]),t.locals={videos:"taskList-components-recordResult-videos-_index_videos_1qLY4",add:"taskList-components-recordResult-videos-_index_add_2YGY0",hasData:"taskList-components-recordResult-videos-_index_hasData_2C7Al",delete:"taskList-components-recordResult-videos-_index_delete_1dgTu",play:"taskList-components-recordResult-videos-_index_play_1mJqm",selectPopup:"taskList-components-recordResult-videos-_index_selectPopup_218hk",myVideo:"taskList-components-recordResult-videos-_index_myVideo_2fhI6"}},1404:function(e,t,n){e.exports=n.p+"assets/fonts/play.svg"},1405:function(e,t,n){e.exports=n.p+"assets/imgs/video_3WDZl.png"},1406:function(e,t,n){e.exports=n.p+"assets/fonts/close.svg"},1407:function(e,t,n){e.exports=n.p+"assets/imgs/right_2sWGc.png"}});